/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
create table ElectronicDevice (id integer generated by default as identity (start with 1), conso float not null, primary key (id))
create table Heater (id integer generated by default as identity (start with 1), conso float not null, primary key (id))
create table Home (id integer generated by default as identity (start with 1), nbPieces integer not null, size float not null, primary key (id))
create table Home_ElectronicDevice (Home_id integer not null, electronicDevices_id integer not null)
create table Home_Heater (Home_id integer not null, heaters_id integer not null)
create table Person (id integer generated by default as identity (start with 1), email varchar(255), name varchar(255), surname varchar(255), primary key (id))
create table Person_Home (Person_id integer not null, homes_id integer not null)
create table Person_Person (Person_id integer not null, friends_id integer not null)
alter table Home_ElectronicDevice add constraint UK_cb63k5fmk1rexggijdp3cki91  unique (electronicDevices_id)
alter table Home_Heater add constraint UK_qqq2vm3tnkob975eav2rwymsy  unique (heaters_id)
alter table Person_Home add constraint UK_3at75ftvglhu8gp1lk90lyaw2  unique (homes_id)
alter table Home_ElectronicDevice add constraint FK_cb63k5fmk1rexggijdp3cki91 foreign key (electronicDevices_id) references ElectronicDevice
alter table Home_ElectronicDevice add constraint FK_lx5v31bkx5mpbbce2yghu5ity foreign key (Home_id) references Home
alter table Home_Heater add constraint FK_qqq2vm3tnkob975eav2rwymsy foreign key (heaters_id) references Heater
alter table Home_Heater add constraint FK_jqyj2si6jk7rdcnwc7lh2kkp foreign key (Home_id) references Home
alter table Person_Home add constraint FK_3at75ftvglhu8gp1lk90lyaw2 foreign key (homes_id) references Home
alter table Person_Home add constraint FK_f22ryqcco27f6jqtd6mu4d4de foreign key (Person_id) references Person
alter table Person_Person add constraint FK_aff7mee65knn9wsxb8hxvpsuh foreign key (friends_id) references Person
alter table Person_Person add constraint FK_inq4xm3i524cmia3rp65fx39w foreign key (Person_id) references Person
INSERT INTO PERSON VALUES(1,NULL,'martin',NULL)
COMMIT
DISCONNECT
